---
title: "Agents API"
description: "API reference for creating and managing agents"
icon: "robot"
---

The Agents API provides methods for creating, reading, updating, and deleting agents.

Access the Agents API via `client.agents`.

## Methods

### create

Creates a new agent with the specified configuration.

```typescript
create(config: AgentConfig): Promise<Agent>
```

<ParamField path="config" type="AgentConfig" required>
  Agent configuration
</ParamField>

```typescript
const agent = await client.agents.create({
  name: 'my-agent',
  model: 'claude-sonnet-4-20250514',
  systemPrompt: 'You are a helpful assistant.',
  tools: ['Bash', 'Read', 'Write'],
  maxTurns: 10,
  timeoutSeconds: 300
});
```

**Returns:** `Promise<Agent>`

**Throws:**
- `ConflictError` - Agent name already exists
- `ValidationError` - Invalid configuration
- `AuthenticationError` - Invalid API key

---

### get

Retrieves an agent by ID.

```typescript
get(agentId: string): Promise<Agent>
```

<ParamField path="agentId" type="string" required>
  Agent ID (with or without `agt_` prefix)
</ParamField>

```typescript
const agent = await client.agents.get('agt_abc123');
// or
const agent = await client.agents.get('abc123');
```

**Returns:** `Promise<Agent>`

**Throws:**
- `NotFoundError` - Agent not found
- `AuthenticationError` - Invalid API key

---

### list

Lists agents with optional pagination.

```typescript
list(options?: ListAgentsOptions): Promise<Agent[]>
```

<ParamField path="options" type="ListAgentsOptions" optional>
  Pagination options
</ParamField>

```typescript
// List all agents
const agents = await client.agents.list();

// With pagination
const agents = await client.agents.list({
  limit: 10,
  offset: 0
});
```

**Returns:** `Promise<Agent[]>`

**Throws:**
- `AuthenticationError` - Invalid API key

---

### update

Updates an existing agent. Only provided fields are changed.

```typescript
update(agentId: string, options: UpdateAgentOptions): Promise<Agent>
```

<ParamField path="agentId" type="string" required>
  Agent ID to update
</ParamField>

<ParamField path="options" type="UpdateAgentOptions" required>
  Fields to update
</ParamField>

```typescript
const updated = await client.agents.update('agt_abc123', {
  systemPrompt: 'Updated system prompt.',
  maxTurns: 20,
  tools: ['Bash', 'Read', 'Write', 'WebSearch']
});
```

**Returns:** `Promise<Agent>`

**Throws:**
- `NotFoundError` - Agent not found
- `ValidationError` - Invalid options
- `AuthenticationError` - Invalid API key

---

### delete

Deletes an agent (soft delete).

```typescript
delete(agentId: string): Promise<void>
```

<ParamField path="agentId" type="string" required>
  Agent ID to delete
</ParamField>

```typescript
await client.agents.delete('agt_abc123');
```

**Returns:** `Promise<void>`

**Throws:**
- `NotFoundError` - Agent not found
- `AuthenticationError` - Invalid API key

---

## Types

### AgentConfig

Configuration for creating a new agent.

```typescript
interface AgentConfig {
  /**
   * Unique agent name.
   * Must start with lowercase letter, contain only lowercase letters,
   * numbers, and hyphens. Maximum 64 characters.
   */
  name: string;

  /**
   * AI model to use.
   * @default 'claude-sonnet-4-20250514'
   */
  model?: AgentModel;

  /**
   * System prompt / instructions for the agent.
   * @default ''
   */
  systemPrompt?: string;

  /**
   * Tools available to the agent.
   * @default ['Bash', 'Read', 'Write', 'Glob', 'Grep']
   */
  tools?: AgentTool[];

  /**
   * Maximum conversation turns per run.
   * @default 10
   */
  maxTurns?: number;

  /**
   * Timeout in seconds for each run.
   * @default 300
   */
  timeoutSeconds?: number;
}
```

### Agent

The complete agent object returned by API methods.

```typescript
interface Agent {
  /** Unique agent ID (e.g., 'agt_abc123') */
  id: string;

  /** Agent name */
  name: string;

  /** AI model in use */
  model: AgentModel;

  /** System prompt / instructions */
  systemPrompt: string;

  /** Available tools */
  tools: AgentTool[];

  /** Maximum turns per run */
  maxTurns: number;

  /** Run timeout in seconds */
  timeoutSeconds: number;

  /** Agent status */
  status: AgentStatus;

  /** Creation timestamp (ISO 8601) */
  createdAt: string;

  /** Last update timestamp (ISO 8601) */
  updatedAt: string;
}
```

### AgentModel

Available AI models.

```typescript
type AgentModel =
  | 'claude-sonnet-4-20250514'  // Fast, balanced (default)
  | 'claude-opus-4-20250514'    // Most capable
  | 'claude-haiku-3-5-20241022' // Fastest, most economical
```

### AgentTool

Available tools.

```typescript
type AgentTool =
  | 'Bash'      // Execute shell commands
  | 'Read'      // Read files
  | 'Write'     // Write files
  | 'Glob'      // Find files by pattern
  | 'Grep'      // Search file contents
  | 'WebSearch' // Search the web
  | 'WebFetch'  // Fetch web content
```

### AgentStatus

Agent status values.

```typescript
type AgentStatus = 'active' | 'deleted';
```

### ListAgentsOptions

Options for listing agents.

```typescript
interface ListAgentsOptions {
  /**
   * Maximum number of results to return.
   * @default 100
   * @minimum 1
   * @maximum 100
   */
  limit?: number;

  /**
   * Number of results to skip.
   * @default 0
   */
  offset?: number;
}
```

### UpdateAgentOptions

Options for updating an agent.

```typescript
interface UpdateAgentOptions {
  /** Update the AI model */
  model?: AgentModel;

  /** Update the system prompt */
  systemPrompt?: string;

  /** Update available tools */
  tools?: AgentTool[];

  /** Update maximum turns */
  maxTurns?: number;

  /** Update timeout */
  timeoutSeconds?: number;
}
```

<Note>
  The agent `name` cannot be changed after creation.
</Note>
