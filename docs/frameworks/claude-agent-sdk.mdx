---
title: "Claude Agent SDK"
description: "Deploy a Claude agent with tool use and conversation memory"
icon: /images/claude-agent-sdk.svg
---

The [Claude Agent SDK](https://github.com/anthropics/claude-agent-sdk) gives you tool use, conversation memory via `session_id`, and streaming out of the box. Combined with Superserve's durable workspace, the agent retains full context across turns and restarts â€” files it creates persist, and conversation history survives sandbox restarts.

```python agent.py
import asyncio
from claude_agent_sdk import ClaudeAgentOptions, ClaudeSDKClient, TextBlock

options = ClaudeAgentOptions(
    model="sonnet",
    system_prompt="You are a helpful assistant.",
    permission_mode="bypassPermissions",
)

async def main():
    async with ClaudeSDKClient(options=options) as client:
        while True:
            user_input = input()
            await client.query(prompt=user_input, session_id="chat")
            async for msg in client.receive_response():
                for block in getattr(msg, "content", []):
                    if isinstance(block, TextBlock):
                        print(block.text)

asyncio.run(main())
```

```txt requirements.txt
claude-agent-sdk
```

```bash
superserve deploy agent.py
superserve secrets set my-agent ANTHROPIC_API_KEY=sk-ant-...
superserve run my-agent
```

<Tip>
  The `session_id` parameter enables Claude's built-in conversation memory. Combined with Superserve's workspace persistence, the agent has full context even after the sandbox restarts.
</Tip>
